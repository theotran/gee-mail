




<!DOCTYPE html>
<html>

  <head>
    <link href="http://s3.amazonaws.com/codecademy-content/courses/ltp/css/shift.css" rel="stylesheet">
    
    <link rel="stylesheet" href="http://s3.amazonaws.com/codecademy-content/courses/ltp/css/bootstrap.css">
    <link rel="stylesheet" href="css/styles.css">

    <title> Gee-Mail Application</title>
    <script src="js/mail-generator.js"></script>
    
    <script>
      window.onload = function(){
        

var counter = 0;
 var email= document.createElement('div');
  email.id = 'emailGroup';    
       

 function loadEmail (message) {

   for(var i =0; i < message.length; i++){
      var email= document.createElement('div');
       email.id = 'emailGroup' + ++counter;
       
       var dateP = document.createElement('p');
       dateP.id = 'dateContent';
       dateP.innerHTML = message[i].date;
       email.appendChild(dateP);



       var subjectHeader = document.createElement('h4');
       //subjectHeader.innerHTML = "SUBJECT:";
       var subjectP = document.createElement('p');
       subjectP.className = 'subjectContent'; //+ ++counter;
       subjectP.innerHTML = message[i].subject;
       email.appendChild(subjectP);
       document.getElementById('emailContainer').appendChild(email);

       
       var senderHeader = document.createElement('h4');
       //senderHeader.innerHTML = "SENDER:";
       var senderP = document.createElement('p');
       senderP.id = 'senderContent';
       senderP.innerHTML = message[i].sender;
       email.appendChild(senderP);

       

       var bodyP = document.createElement('li');
       bodyP.className = 'bodyContent'; //+ ++counter;
       bodyP.innerHTML = message[i].body;
       subjectP.appendChild(bodyP);




       document.getElementById('emailContainer').appendChild(email);

    }



  }      
      

 loadEmail(window.geemails);


//////SECOND LOAD EMAIL (SINGLE EMAIL);






///SHOW AMOUNT OF MESSAGES IN INBOX








///SHOW HIDDEN MESSAGE 


var childClass = document.querySelectorAll ('.subjectContent');

//for (var i=0; i < childClass.length; i++) {

  //childClass[i].addEventListener('click', function(event){
    //var secretToyClass = this.querySelectorAll('.bodyContent')[0];
    //console.log(this);
    //secretToyClass.className += ' show';

  //})

  //childClass[i].addEventListener('mouseout', function(event) {
    //var secretToyClass= this.querySelectorAll('.bodyContent.show')[0];
    //console.log(this);
    //console.log(event);
    //secretToyClass.className = 'bodyContent';
  //})



//}
  
///SET INTERVAL   
function myFunction() {
    setInterval(function(){ 
      

      var emailCont = document.getElementById('emailContainer');
    
    
      console.log(counter);
      var amount = document.getElementById('count');
      amount.innerHTML = counter;
    


      var newerDiv = document.createElement('div');
      newerDiv.id = 'emailGroup' + counter;
      var newDateP = document.createElement('p');
      newDateP.innerHTML = getNewMessage().date;
      newerDiv.appendChild(newDateP);

      var newSubjectP = document.createElement('p');
      newSubjectP.className = 'subjectContent'; 
      newSubjectP.innerHTML = getNewMessage().subject;
      newerDiv.appendChild(newSubjectP);

      newSubjectP.addEventListener('click', function(event){
    var secretToyClass = this.querySelectorAll('.bodyContent')[0];
    console.log(this);
    secretToyClass.className += ' show';

  })

    newSubjectP.addEventListener('mouseout', function(event) {
    var secretToyClass= this.querySelectorAll('.bodyContent.show')[0];
    console.log(this);
    console.log(event);
    secretToyClass.className = 'bodyContent';
  })

      var newSenderP = document.createElement('p');
      newSenderP.innerHTML = getNewMessage().sender;
      newerDiv.appendChild(newSenderP);
     

       var newBodyP = document.createElement('li');
       newBodyP.className = 'bodyContent'; //+ ++counter;
       newBodyP.innerHTML = getNewMessage().body;
       newSubjectP.appendChild(newBodyP);

      document.getElementById('emailContainer').appendChild(newerDiv);

      counter ++;
      
  }, 4000);
}

myFunction(getNewMessage());





/////ENDING OF JAVASCRIPT

};
    </script>
  </head>

  <body>
  <header class="header">
    <div class="jumbotron">
      <div class="container">
        <h1>Welcome to Gee-Mail.</h1>
        <p>Communicate with friends.</p>
        <a href="#">Learn More</a>
      </div>
    </div> 
  </header>
    
    <div>
        Current Amount In Inbox:
    </div>

    <div id="count">
          
    </div>

    <div class="nav">
      <div class="container">
        <ul class="pull-left">
          <li><a href="#">Compose</a></li>
          <li><a href="#">Inbox</a></li>
          <li><a href="#">Sent Items</a></li>
        </ul>
        <ul class="pull-right">
          <li><a href="#">Sign Up</a></li>
          <li><a href="#">Log In</a></li>
          <li><a href="#">Help</a></li>
        </ul>
      </div>
    </div>
        
    <div id="emailContainer">
    </div>

<content>
</content>
    
        
         
    
      
  
  
  </body>
</html>















